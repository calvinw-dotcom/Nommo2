{% extends 'tts/base.html' %}

{% load crispy_forms_tags %}

{% block content %}

    <h5>Welcome to the dashboard, {{user}}!</h5> <!-- Where does the user come from?-->

    <hr>
        {% if messages %}
            <ul class="messages">
                {% for message in messages %}
                    <li{% if message.tags %} class="{{ message.tags }}"{% endif %}>{{ message }}</li>
                {% endfor %}
            </ul>
        {% endif %}
    <table class="table table-hover table-bordered">
        <thead class="table-light">
            <tr>
                <th scope="col"> Article </th>
                <th scope="col"> Audio file </th>

            </tr>
            <tbody>
                {% if records %}

                {% for record in records %}
                <tr>    
        
                    <td> {{record.title}}</td>
                    <td>
                        {% if record.audio_file %}
                            <audio controls>
                                <source src="{{ record.audio_file.url }}" type="audio/mpeg">
                                Your browser does not support the audio element.
                            </audio>
                        {% else %}
                            no audio available
                        {% endif %}
                    </td>    

                </tr>
                {% endfor %}
                {% endif %}

            </tbody>


        </thead>

    </table>


{% endblock %}